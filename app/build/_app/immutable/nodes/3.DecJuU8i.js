import{f as O,a as R}from"../chunks/sc5tX4ha.js";import"../chunks/CY-KoamU.js";import{o as ee}from"../chunks/Dglfn3Y6.js";import{L as z,B as C,X as re,z as H,G as ae,F as ne,g as T,Y as fe,I as te,J as ie,K as B,M as F,C as k,Z as le,_ as oe,$ as X,p as se,A as U,E as ue,a0 as Y,a1 as ve,a2 as q,m as P,a3 as pe,a4 as de,a5 as ce,a6 as N,v as Q,y as W,a7 as $,a8 as ge,a9 as he,x as _e,N as me,Q as G,R as Ee,T as be,U as L,W as xe,V as D,s as ye,S as Te}from"../chunks/8qVaMlJz.js";import{s as Ne}from"../chunks/DEAL1xtT.js";import{i as we}from"../chunks/BHZS8Exj.js";import{e as J}from"../chunks/D6Xv_Zl9.js";import{i as Ae}from"../chunks/Cwkaved6.js";import{i as Ce}from"../chunks/C1V3-PH7.js";import{g as Ie}from"../chunks/DbnA_IQn.js";function Se(e,t){return t}function Me(e,t,f){for(var p=[],g=t.length,o,l=t.length,a=0;a<g;a++){let i=t[a];W(i,()=>{if(o){if(o.pending.delete(i),o.done.add(i),o.pending.size===0){var v=e.outrogroups;V(Y(o.done)),v.delete(o),v.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var s=p.length===0&&f!==null;if(s){var n=f,u=n.parentNode;he(u),u.append(n),e.items.clear()}V(t,!s)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function V(e,t=!0){for(var f=0;f<e.length;f++)_e(e[f],t)}var K;function Re(e,t,f,p,g,o=null){var l=e,a=new Map;{var s=e;l=C?z(re(s)):s.appendChild(H())}C&&ae();var n=null,u=fe(()=>{var d=f();return ve(d)?d:d==null?[]:Y(d)}),i,v=!0;function w(){c.fallback=n,ke(c,i,l,t,p),n!==null&&(i.length===0?(n.f&N)===0?Q(n):(n.f^=N,M(n,null,l)):W(n,()=>{n=null}))}var r=ne(()=>{i=T(u);var d=i.length;let _=!1;if(C){var m=te(l)===ie;m!==(d===0)&&(l=B(),z(l),F(!1),_=!0)}for(var I=new Set,b=se,A=ue(),x=0;x<d;x+=1){C&&k.nodeType===le&&k.data===oe&&(l=k,_=!0,F(!1));var S=i[x],h=p(S,x),E=v?null:a.get(h);E?(E.v&&X(E.v,S),E.i&&X(E.i,x),A&&b.skipped_effects.delete(E.e)):(E=De(a,v?l:K??=H(),S,h,x,g,t,f),v||(E.e.f|=N),a.set(h,E)),I.add(h)}if(d===0&&o&&!n&&(v?n=U(()=>o(l)):(n=U(()=>o(K??=H())),n.f|=N)),C&&d>0&&z(B()),!v)if(A){for(const[Z,j]of a)I.has(Z)||b.skipped_effects.add(j.e);b.oncommit(w),b.ondiscard(()=>{})}else w();_&&F(!0),T(u)}),c={effect:r,items:a,outrogroups:null,fallback:n};v=!1,C&&(l=k)}function ke(e,t,f,p,g){var o=t.length,l=e.items,a=e.effect.first,s,n=null,u=[],i=[],v,w,r,c;for(c=0;c<o;c+=1){if(v=t[c],w=g(v,c),r=l.get(w).e,e.outrogroups!==null)for(const h of e.outrogroups)h.pending.delete(r),h.done.delete(r);if((r.f&N)!==0)if(r.f^=N,r===a)M(r,null,f);else{var d=n?n.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),y(e,n,r),y(e,r,d),M(r,d,f),n=r,u=[],i=[],a=n.next;continue}if((r.f&$)!==0&&Q(r),r!==a){if(s!==void 0&&s.has(r)){if(u.length<i.length){var _=i[0],m;n=_.prev;var I=u[0],b=u[u.length-1];for(m=0;m<u.length;m+=1)M(u[m],_,f);for(m=0;m<i.length;m+=1)s.delete(i[m]);y(e,I.prev,b.next),y(e,n,I),y(e,b,_),a=_,n=b,c-=1,u=[],i=[]}else s.delete(r),M(r,a,f),y(e,r.prev,r.next),y(e,r,n===null?e.effect.first:n.next),y(e,n,r),n=r;continue}for(u=[],i=[];a!==null&&a!==r;)(s??=new Set).add(a),i.push(a),a=a.next;if(a===null)continue}(r.f&N)===0&&u.push(r),n=r,a=r.next}if(e.outrogroups!==null){for(const h of e.outrogroups)h.pending.size===0&&(V(Y(h.done)),e.outrogroups?.delete(h));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||s!==void 0){var A=[];if(s!==void 0)for(r of s)(r.f&$)===0&&A.push(r);for(;a!==null;)(a.f&$)===0&&a!==e.fallback&&A.push(a),a=a.next;var x=A.length;if(x>0){var S=o===0?f:null;Me(e,A,S)}}}function De(e,t,f,p,g,o,l,a){var s=(l&de)!==0?(l&ce)===0?P(f,!1,!1):q(f):null,n=(l&pe)!==0?q(g):null;return{v:s,i:n,e:U(()=>(o(t,s??f,n??g,a),()=>{e.delete(p)}))}}function M(e,t,f){if(e.nodes)for(var p=e.nodes.start,g=e.nodes.end,o=t&&(t.f&N)===0?t.nodes.start:f;p!==null;){var l=ge(p);if(o.before(p),p===g)return;p=l}}function y(e,t,f){t===null?e.effect.first=f:t.next=f,f===null?e.effect.last=t:f.prev=t}const Oe=!0,Pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oe},Symbol.toStringTag,{value:"Module"}));var ze=O("<p>No runs yet.</p>"),He=O('<li><button style="text-align:left;"> </button></li>'),Fe=O('<ul style="display:grid; gap: 8px; padding-left: 16px;"></ul>'),$e=O('<h1>History</h1> <div style="display:flex; gap: 8px; margin-bottom: 12px;"><button>Refresh</button> <a href="/">New run</a></div> <!>',1);function Qe(e,t){me(t,!1);let f=P([]);const p=async()=>{ye(f,await Ce("list_history"))},g=i=>{Ie(`/results?outputDir=${encodeURIComponent(i.outputDir)}`)};ee(()=>{p()}),Ae();var o=$e(),l=G(Ee(o),2),a=L(l);xe(2),D(l);var s=G(l,2);{var n=i=>{var v=ze();R(i,v)},u=i=>{var v=Fe();Re(v,5,()=>T(f),Se,(w,r)=>{var c=He(),d=L(c),_=L(d);D(d),D(c),Te(()=>Ne(_,`${T(r).createdAt??""} — ${T(r).mode??""} — ${T(r).target??""}`)),J("click",d,()=>g(T(r))),R(w,c)}),D(v),R(i,v)};we(s,i=>{T(f).length===0?i(n):i(u,!1)})}J("click",a,p),R(e,o),be()}export{Qe as component,Pe as universal};
